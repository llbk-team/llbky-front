<template>
  <div class="insight-page">
    <!-- í—¤ë” -->
    <div class="header">
      <div class="title-section">
        <h2>AI ì¶”ì²œ ì¸ì‚¬ì´íŠ¸</h2>
        <p>ë‰´ìŠ¤Â·íŠ¸ë Œë“œì™€ ì €ì¥í•œ í‚¤ì›Œë“œë¥¼ ë¶„ì„í•´ ì œì•ˆí•˜ëŠ” ë§ì¶¤ ì§ë¬´ ì¸ì‚¬ì´íŠ¸</p>
      </div>
      <router-link to="/trend/saved" class="saved-btn">
        ğŸ“‘ ë‚´ í‚¤ì›Œë“œ ë³´ê¸° ({{ savedCount }})
      </router-link>
    </div>

    <!-- ë¶„ì„ ì•ˆë‚´ -->
    <div class="notice-box">
      <p>
        âœ… <strong>ë¶„ì„ ì™„ë£Œ</strong><br />
        ìµœê·¼ ë‰´ìŠ¤ ìš”ì•½, íŠ¸ë Œë“œ ë°ì´í„°, ê·¸ë¦¬ê³  ì‚¬ìš©ìì˜ <strong>ì €ì¥ í‚¤ì›Œë“œ</strong>ë¥¼ í•¨ê»˜ ë¶„ì„í–ˆìŠµë‹ˆë‹¤.<br />
        ì•„ë˜ì˜ ê²°ê³¼ëŠ” AIê°€ <strong>í¬ë§ ì§ë¬´</strong>ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ <strong>ì—°ê´€ ì§ë¬´ì™€ ê¸°ìˆ  íë¦„</strong>ê¹Œì§€ í™•ì¥ ë¶„ì„í•œ ì¸ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤.
      </p>
    </div>

    <!-- ì¶”ê°€ ì•ˆë‚´ ë¬¸êµ¬ (ì´ìœ  ì„¤ëª…) -->
    <div class="context-box">
      <p>
        â„¹ï¸ <strong>ì™œ ë‹¤ë¥¸ ì§ë¬´ë„ í•¨ê»˜ ë³´ì´ë‚˜ìš”?</strong><br />
        íšŒì›ê°€ì… ì‹œ ì„ íƒí•œ í¬ë§ ì§ë¬´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ, AIê°€ ê´€ë ¨ ì‚°ì—…ì˜ ë‰´ìŠ¤ì™€ íŠ¸ë Œë“œ ë°ì´í„°ë¥¼ ì¢…í•© ë¶„ì„í•˜ì—¬<br />
        <strong>ì¸ì ‘ ì§ë¬´</strong>ë‚˜ <strong>ì „í™˜ ê°€ëŠ¥ì„±ì´ ë†’ì€ ë¶„ì•¼</strong>ë„ í•¨ê»˜ ì œì•ˆí•©ë‹ˆë‹¤.<br />
        ì´ëŠ” ë‹¹ì‹ ì˜ ì»¤ë¦¬ì–´ í™•ì¥ ê°€ëŠ¥ì„±ê³¼ í•™ìŠµ ë°©í–¥ì„±ì„ ë•ê¸° ìœ„í•œ ì¶”ì²œì…ë‹ˆë‹¤.
      </p>
    </div>

    <!-- AI ì¶”ì²œ ì¸ì‚¬ì´íŠ¸ -->
    <div class="recommend-section">
      <h3>ğŸ¤– AI ì¶”ì²œ ì¸ì‚¬ì´íŠ¸</h3>
      <p class="sub-desc">
        ìµœê·¼ ë‰´ìŠ¤Â·íŠ¸ë Œë“œ ë¶„ì„ê³¼ ì €ì¥ëœ í‚¤ì›Œë“œë¥¼ ë°”íƒ•ìœ¼ë¡œ AIê°€ ì¶”ì²œí•œ ì§ë¬´ ë°©í–¥ê³¼ í•µì‹¬ ê¸°ìˆ  í‚¤ì›Œë“œì…ë‹ˆë‹¤.
      </p>

      <div class="recommend-grid">
        <div v-for="(job, i) in jobs" :key="i" class="recommend-card">
          <h4>{{ job.title }}</h4>
          <p class="summary">{{ job.summary }}</p>

          <div class="trend-box">
            <h5>ğŸ“ˆ íŠ¸ë Œë“œ ìš”ì•½</h5>
            <p>{{ job.trendSummary }}</p>
          </div>

          <div class="keyword-box">
            <h5>ğŸ’¡ ê´€ë ¨ í‚¤ì›Œë“œ</h5>
            <div class="tags">
              <button
                v-for="tag in job.tags"
                :key="tag"
                class="tag-btn"
                @click="saveKeyword(tag)"
              >
                {{ tag }}
              </button>
            </div>
          </div>

          <p class="note">
            ğŸ” * ì´ ì¸ì‚¬ì´íŠ¸ëŠ” ì‚¬ìš©ìì˜ í¬ë§ ì§ë¬´, ì €ì¥ í‚¤ì›Œë“œ, ìµœì‹  ë‰´ìŠ¤ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìë™ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
          </p>
        </div>
      </div>
    </div>

    <div class="hint-box">
      ğŸ’¾ í´ë¦­í•œ í‚¤ì›Œë“œëŠ” <strong>ë‚´ í‚¤ì›Œë“œ</strong> í˜ì´ì§€ì—ì„œ ë‹¤ì‹œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from "vue";

const savedCount = ref(0);

onMounted(() => {
  const saved = JSON.parse(localStorage.getItem("user_keywords") || "[]");
  savedCount.value = saved.length;
});

// AI ì¶”ì²œ ì¸ì‚¬ì´íŠ¸ (ì§ë¬´ë³„ ì˜ˆì‹œ)
const jobs = ref([
  {
    title: "AI ì—”ì§€ë‹ˆì–´",
    summary:
      "ìƒì„±í˜• AI, ëª¨ë¸ ë°°í¬(MLOps), Python í™œìš© ì—­ëŸ‰ì´ í•µì‹¬ìœ¼ë¡œ ê¼½íˆê³  ìˆìŠµë‹ˆë‹¤. ìµœì‹  ë‰´ìŠ¤ì—ì„œë„ AI ìë™í™”ì™€ ëª¨ë¸ ìš´ì˜ì´ ì£¼ìš” ì£¼ì œë¡œ ë‹¤ë¤„ì§‘ë‹ˆë‹¤.",
    trendSummary:
      "LLM, MLOps, Python ê´€ë ¨ ìˆ˜ìš”ê°€ ì§€ì†ì ìœ¼ë¡œ ìƒìŠ¹ ì¤‘ì´ë©°, ì‚°ì—… ì „ë°˜ì—ì„œ AI ë„ì…ì´ ê°€ì†í™”ë˜ê³  ìˆìŠµë‹ˆë‹¤.",
    tags: ["LLM", "MLOps", "Python", "TensorFlow"],
  },
  {
    title: "í´ë¼ìš°ë“œ ì—”ì§€ë‹ˆì–´",
    summary:
      "ê¸°ì—…ì˜ í´ë¼ìš°ë“œ ì „í™˜ ì†ë„ê°€ ë¹¨ë¼ì§€ë©° AWS, Docker, Kubernetes ê´€ë ¨ ê¸°ìˆ  ìˆ˜ìš”ê°€ ì¦ê°€í•˜ê³  ìˆìŠµë‹ˆë‹¤.",
    trendSummary:
      "DevOps ìë™í™”ì™€ ì»¨í…Œì´ë„ˆ ë³´ì•ˆì´ ì£¼ìš” í‚¤ì›Œë“œë¡œ ë¶€ìƒí–ˆìŠµë‹ˆë‹¤.",
    tags: ["AWS", "Kubernetes", "DevOps", "Docker"],
  },
  {
    title: "ë°ì´í„° ì‚¬ì´ì–¸í‹°ìŠ¤íŠ¸",
    summary:
      "ë°ì´í„° ê¸°ë°˜ ì˜ˆì¸¡ê³¼ ìƒì„±í˜• AIì˜ ìœµí•©ì´ í™œë°œíˆ ì§„í–‰ë˜ê³  ìˆìœ¼ë©°, SQLê³¼ ë¨¸ì‹ ëŸ¬ë‹ ì—­ëŸ‰ì´ í•µì‹¬ìœ¼ë¡œ ê¼½í™ë‹ˆë‹¤.",
    trendSummary:
      "Pandas, SQL, ë¨¸ì‹ ëŸ¬ë‹ ê¸°ìˆ ì´ ì—¬ì „íˆ ë†’ì€ ê²€ìƒ‰ëŸ‰ì„ ìœ ì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤.",
    tags: ["SQL", "Pandas", "Machine Learning", "Visualization"],
  },
]);

const saveKeyword = (tag) => {
  const saved = JSON.parse(localStorage.getItem("user_keywords") || "[]");
  if (!saved.includes(tag)) {
    saved.push(tag);
    localStorage.setItem("user_keywords", JSON.stringify(saved));
    savedCount.value = saved.length;
    alert(`'${tag}' í‚¤ì›Œë“œê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤ âœ…`);
  } else {
    alert(`ì´ë¯¸ ì €ì¥ëœ í‚¤ì›Œë“œì…ë‹ˆë‹¤.`);
  }
};
</script>

<style scoped>
.insight-page {
  background: #f9faf9;
  padding: 40px 80px;
  color: #111;
  font-family: "NexonLv1Gothic", sans-serif;
}

/* Header */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 28px;
}
.title-section h2 {
  font-size: 24px;
  font-weight: 700;
}
.title-section p {
  font-size: 14px;
  color: #555;
}
.saved-btn {
  background: #00c896;
  color: #fff;
  font-weight: 600;
  font-size: 13px;
  padding: 8px 16px;
  border-radius: 8px;
  text-decoration: none;
}
.saved-btn:hover {
  background: #00b487;
}

/* Notice */
.notice-box {
  background: #e9f8f2;
  border: 1px solid #a2f1d6;
  border-radius: 12px;
  padding: 18px 22px;
  font-size: 14px;
  margin-bottom: 16px;
}

/* Context Explanation */
.context-box {
  background: #fff8ea;
  border: 1px solid #ffe19d;
  border-radius: 10px;
  padding: 16px 20px;
  margin-bottom: 26px;
  font-size: 13px;
  color: #444;
  line-height: 1.6;
}
.context-box strong {
  color: #b25c00;
}

/* Recommend Section */
.recommend-section h3 {
  font-size: 18px;
  font-weight: 700;
  margin-bottom: 6px;
}
.sub-desc {
  font-size: 13px;
  color: #555;
  margin-bottom: 20px;
}
.recommend-grid {
  display: flex;
  flex-direction: column;
  gap: 24px;
}
.recommend-card {
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  border: 1px solid #eee;
  padding: 24px;
}
.recommend-card h4 {
  font-size: 16px;
  font-weight: 700;
  margin-bottom: 8px;
}
.summary {
  font-size: 13px;
  color: #444;
  line-height: 1.6;
  margin-bottom: 14px;
}
.trend-box,
.keyword-box {
  background: #f7fcfa;
  border: 1px solid #a2f1d6;
  border-radius: 10px;
  padding: 12px 16px;
  margin-bottom: 12px;
}
.trend-box h5,
.keyword-box h5 {
  font-size: 13px;
  font-weight: 700;
  color: #00b487;
  margin-bottom: 6px;
}
.tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.tag-btn {
  border: 1px solid #a2f1d6;
  background: #ddf3eb;
  padding: 4px 10px;
  border-radius: 8px;
  font-size: 12px;
  cursor: pointer;
}
.tag-btn:hover {
  background: #a2f1d6;
}
.note {
  font-size: 12px;
  color: #777;
  margin-top: 8px;
}

/* Hint */
.hint-box {
  background: #e9f8f2;
  border: 1px solid #a2f1d6;
  border-radius: 10px;
  padding: 10px 16px;
  font-size: 13px;
  margin-top: 28px;
}
</style>
