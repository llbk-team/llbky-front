<template>
  <div class="insight-page">
    <!-- í—¤ë” -->
    <div class="header">
      <div class="title-section">
        <h2>AI ì¶”ì²œ ì¸ì‚¬ì´íŠ¸</h2>
        <p>
          AIê°€ ìµœì‹  ë‰´ìŠ¤Â·íŠ¸ë Œë“œÂ·ì €ì¥ í‚¤ì›Œë“œë¥¼ ì¢…í•© ë¶„ì„í•´,
          í¬ë§ ì§ë¬´ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì—°ê´€ ì§ë¬´ì™€ ê¸°ìˆ  íë¦„ì„ ì œì•ˆí•©ë‹ˆë‹¤.
        </p>
      </div>

      <!-- ğŸ“‚ ì´ëª¨ì§€ ì ìš© -->
      <router-link to="/trend/saved" class="saved-btn">
        ğŸ“‚ ë‚´ í‚¤ì›Œë“œ ë³´ê¸° ({{ savedCount }})
      </router-link>
    </div>

    <!-- ğŸ’¼ í¬ë§ ì§ë¬´ ì¤‘ì‹¬ ì„±ì¥ ì œì•ˆ -->
    <div class="career-analysis-box">
      <p>
        <strong>í¬ë§ ì§ë¬´ ì¤‘ì‹¬ ì„±ì¥ ì œì•ˆ</strong><br />
        AIê°€ ì‚¬ìš©ìì˜ <strong>í¬ë§ ì§ë¬´</strong>ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ìµœê·¼ íŠ¸ë Œë“œì™€
        ì´ë ¥ì„œÂ·ë©´ì ‘Â·í•™ìŠµ ë°ì´í„°ë¥¼ í•¨ê»˜ ë¶„ì„í–ˆìŠµë‹ˆë‹¤.<br />
        ì•„ë˜ëŠ” ì‹œì¥ íë¦„ê³¼ í˜„ì¬ ì—­ëŸ‰ì„ ë°”íƒ•ìœ¼ë¡œ ì œì•ˆí•˜ëŠ” ì„±ì¥ ë°©í–¥ì…ë‹ˆë‹¤.
      </p>

      <ul class="feedback-list">
        <li>
          <strong> ì´ë ¥ì„œ ë¶„ì„:</strong> ìµœê·¼ ì—…ê³„ì—ì„œëŠ”
          <b>MLOps</b>ì™€ <b>LLM ì‘ìš©</b>ì´ í•µì‹¬ í‚¤ì›Œë“œë¡œ ë¶€ìƒí–ˆìŠµë‹ˆë‹¤.
          í˜„ì¬ ì´ë ¥ì„œì—ëŠ” ê´€ë ¨ í”„ë¡œì íŠ¸ ê²½í—˜ì´ ì ê²Œ ë‚˜íƒ€ë‚˜ë¯€ë¡œ
          ëª¨ë¸ ë°°í¬ ë° ìš´ì˜ ê²½í—˜ì„ ë³´ì™„í•´ë³´ì„¸ìš”.
        </li>
        <li>
          <strong> ë©´ì ‘ ë¶„ì„:</strong> ë‹µë³€ì—ì„œ í”„ë¡œì íŠ¸ ì„±ê³¼ë‚˜ ìˆ˜ì¹˜ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì œì‹œí•˜ì§€ ì•Šì€ ê²½ìš°ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.
          <b>ì •ëŸ‰ì  ê²°ê³¼ ì¤‘ì‹¬ì˜ ìŠ¤í† ë¦¬í…”ë§</b>ì„ ì¶”ê°€í•˜ë©´ ì „ë¬¸ì„±ì´ ê°•í™”ë©ë‹ˆë‹¤.
        </li>
        <li>
          <strong> í•™ìŠµ ë°ì´í„° ë¶„ì„:</strong> í˜„ì¬ í•™ìŠµ ë‚´ì—­ì€ Python ì¤‘ì‹¬ì…ë‹ˆë‹¤.
          ìµœê·¼ íŠ¸ë Œë“œì— ë§ì¶° <b>ë°ì´í„° ê±°ë²„ë„ŒìŠ¤</b>ë‚˜ <b>LLM íŒŒì¸íŠœë‹</b> ê³¼ì •ì„ í•¨ê»˜ ì§„í–‰í•˜ë©´ ì¢‹ìŠµë‹ˆë‹¤.
        </li>
      </ul>
    </div>

    <!-- ğŸ¤– AI ì¶”ì²œ ì¸ì‚¬ì´íŠ¸ -->
    <div class="recommend-section">
      <h3>ğŸ¤– AI ì¶”ì²œ ì¸ì‚¬ì´íŠ¸</h3>

      <p class="sub-desc">
        ìµœê·¼ ë‰´ìŠ¤Â·íŠ¸ë Œë“œ ë¶„ì„ê³¼ ì €ì¥ëœ í‚¤ì›Œë“œë¥¼ ë°”íƒ•ìœ¼ë¡œ
        AIê°€ ì œì•ˆí•˜ëŠ” ì—°ê´€ ì§ë¬´ì™€ í•µì‹¬ ê¸°ìˆ  í‚¤ì›Œë“œì…ë‹ˆë‹¤.
      </p>

      <div class="recommend-grid">
        <div v-for="(job, i) in jobs" :key="i" class="recommend-card">
          <h4>{{ job.title }}</h4>
          <p class="summary">{{ job.summary }}</p>

          <div class="trend-box">
            <h5>ğŸ“Š íŠ¸ë Œë“œ ìš”ì•½</h5>
            <p>{{ job.trendSummary }}</p>
          </div>

          <div class="keyword-box">
            <h5>ğŸ’¡ ê´€ë ¨ í‚¤ì›Œë“œ</h5>
            <div class="tags">
              <button
                v-for="tag in job.tags"
                :key="tag"
                class="tag-btn"
                :class="{ saved: isSaved(tag) }"
                @click="toggleKeyword(tag)"
              >
                {{ isSaved(tag) ? `âœ” ${tag}` : tag }}
              </button>
            </div>
          </div>

          <p class="note">ğŸ” * ì´ ì¸ì‚¬ì´íŠ¸ëŠ” ìë™ ìƒì„±ëœ ì¶”ì²œì…ë‹ˆë‹¤.</p>
        </div>
      </div>
    </div>

    <!-- ğŸ“˜ ì„¤ëª… ë°•ìŠ¤ -->
    <div class="dual-info-box">

      <div class="context-box">
        <p>
          â„¹ï¸ <strong>ì™œ ë‹¤ë¥¸ ì§ë¬´ë„ í•¨ê»˜ ë³´ì´ë‚˜ìš”?</strong><br />
          AIê°€ í¬ë§ ì§ë¬´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì—°ê´€ ì‚°ì—…ì˜ ë°ì´í„°ë“¤ì„ ë¶„ì„í•˜ì—¬<br />
          <strong>ì¸ì ‘ ì§ë¬´</strong>ì™€ <strong>í™•ì¥ ê°€ëŠ¥í•œ ì§ë¬´</strong>ë„ ì¶”ì²œí•©ë‹ˆë‹¤.
        </p>
      </div>

      <div class="personal-context-box">
        <p>
          ğŸ§  <strong>ë§ì¶¤ ë¶„ì„ ê³ ë„í™”</strong><br />
          ì´ë ¥ì„œÂ·ë©´ì ‘Â·í•™ìŠµ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê¸°ìˆ  ê²©ì°¨ë¥¼ ë¶„ì„í•˜ê³ <br />
          ì„±ì¥ ë°©í–¥ì„ ì œì•ˆí•©ë‹ˆë‹¤.
        </p>
      </div>
    </div>

    <div class="hint-box">ğŸ’¾ í´ë¦­í•œ í‚¤ì›Œë“œëŠ” ì €ì¥ë©ë‹ˆë‹¤.</div>
  </div>
</template>

<script setup>
import { ref, onMounted } from "vue";

const savedKeywords = ref([]);
const savedCount = ref(0);
const userJob = ref(localStorage.getItem("user_job") || "AI ì—”ì§€ë‹ˆì–´");

onMounted(() => {
  const stored = JSON.parse(localStorage.getItem("user_keywords") || "[]");
  savedKeywords.value = Array.isArray(stored) ? stored : [];
  savedCount.value = savedKeywords.value.length;
});

const isSaved = (tag) => savedKeywords.value.includes(tag);

const toggleKeyword = (tag) => {
  const index = savedKeywords.value.indexOf(tag);

  if (index === -1) savedKeywords.value.push(tag);
  else savedKeywords.value.splice(index, 1);

  localStorage.setItem("user_keywords", JSON.stringify(savedKeywords.value));
  savedCount.value = savedKeywords.value.length;
};

const jobs = ref([
  {
    title: userJob.value,
    summary: `${userJob.value} ì§ë¬´ëŠ” ìµœê·¼ ì‚°ì—… íŠ¸ë Œë“œì—ì„œ í•µì‹¬ ì„±ì¥ ë¶„ì•¼ë¡œ ë¶„ì„ë˜ì—ˆìŠµë‹ˆë‹¤.`,
    trendSummary: `ìµœê·¼ ${userJob.value} ê´€ë ¨ í‚¤ì›Œë“œë¡œëŠ” LLM, MLOps, Python ìë™í™”ê°€ ê°€ì¥ ë§ì´ ì–¸ê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤.`,
    tags: ["MLOps", "LLM", "Python", "AI Automation"],
  },
  {
    title: "í´ë¼ìš°ë“œ ì—”ì§€ë‹ˆì–´",
    summary:
      "ê¸°ì—…ì˜ í´ë¼ìš°ë“œ ì „í™˜ ì†ë„ê°€ ë¹¨ë¼ì§€ë©° ê´€ë ¨ ê¸°ìˆ  ìˆ˜ìš”ê°€ ì¦ê°€ ì¤‘ì…ë‹ˆë‹¤.",
    trendSummary: "DevOps ìë™í™”, AWS, ë³´ì•ˆì´ ì£¼ìš” í‚¤ì›Œë“œì…ë‹ˆë‹¤.",
    tags: ["AWS", "Kubernetes", "DevOps", "Docker"],
  },
  {
    title: "ë°ì´í„° ì‚¬ì´ì–¸í‹°ìŠ¤íŠ¸",
    summary:
      "ë°ì´í„° ê¸°ë°˜ ì˜ˆì¸¡ê³¼ ìƒì„±í˜• AI ì ìš©ì´ í™œë°œí•œ ë¶„ì•¼ì…ë‹ˆë‹¤.",
    trendSummary: "Pandas, SQL, ë¨¸ì‹ ëŸ¬ë‹ ê¸°ìˆ ì´ ê¾¸ì¤€í•œ ê´€ì‹¬ì„ ë°›ê³  ìˆìŠµë‹ˆë‹¤.",
    tags: ["SQL", "Pandas", "Machine Learning", "Visualization"],
  },
]);
</script>

<style scoped>
.insight-page {
  padding: 40px 60px 60px 60px;
  color: #111;
  font-family: "NexonLv1Gothic", sans-serif;
  max-width: 1300px;
  margin: 0 auto;
}

/* Header */
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  margin-bottom: 28px;
}

.title-section h2 {
  font-size: 28px;
  font-weight: 700;
}

.title-section p {
  font-size: 16px;
  color: #6c757d;
}

.saved-btn {
  background: #00c896;
  color: #fff;
  height: 37px;
  font-weight: 600;
  font-size: 13.5px;
  padding: 8px 16px;
  border-radius: 6px;
  text-decoration: none;
  transition: 0.2s;
}

.saved-btn:hover {
  background: #00b487;
}

/* Dual Info Section */
.dual-info-box {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-top: 30px;
  margin-bottom: 20px;
}

.context-box,
.personal-context-box {
  border-radius: 10px;
  padding: 16px 20px;
  font-size: 13px;
  line-height: 1.6;
}

.context-box {
  background: #fff8ea;
  border: 1px solid #ffe19d;
  color: #444;
}

.context-box strong {
  color: #b25c00;
}

.personal-context-box {
  background: #eef7ff;
  border: 1px solid #c9e3ff;
  color: #333;
}

.personal-context-box strong {
  color: #0059b3;
}

/* Recommend Section */
.recommend-section h3 {
  font-size: 18px;
  font-weight: 700;
  margin-bottom: 6px;
}

.sub-desc {
  font-size: 13px;
  color: #555;
  margin-bottom: 20px;
}

.recommend-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 24px;
}

.recommend-card {
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  border: 1px solid #eee;
  padding: 24px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  transition: 0.2s;
}

.recommend-card h4 {
  font-size: 19px;
  font-weight: 700;   /* êµµê¸° ê°•í™” */
  margin-bottom: 10px;
  color: #111;
}


.recommend-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
}

.summary {
  font-size: 13px;
  color: #444;
  line-height: 1.6;
  margin-bottom: 14px;
}

.trend-box,
.keyword-box {
  background: #f7fcfa;
  border: 1px solid #a2f1d6;
  border-radius: 10px;
  padding: 12px 16px;
  margin-bottom: 12px;
}

.trend-box p {
  font-size: 13px;    /* ê¸°ì¡´ë³´ë‹¤ ì‘ê³  ì•ˆì •ì ì¸ í¬ê¸° */
  line-height: 1.55;
}

.trend-box h5,
.keyword-box h5 {
  font-size: 13px;
  font-weight: 700;
  color: #00b487;
  margin-bottom: 6px;
}

.tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.tag-btn {
  border: 1px solid #a2f1d6;
  background: #ddf3eb;
  padding: 5px 12px;
  border-radius: 8px;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.tag-btn:hover {
  transform: scale(1.05);
}

/* â­ ì €ì¥ëœ í‚¤ì›Œë“œ ì‹œê°ì  í‘œì‹œ */
.tag-btn.saved {
  background: #00c896;
  border-color: #009b72;
  color: #fff;
}

.tag-btn.saved:hover {
  background: #00c896;
  transform: scale(1.0);
}

/* í´ë¦­ ì‹œ ì‚´ì§ ëˆŒë¦¬ëŠ” íš¨ê³¼ */
.tag-btn:active {
  transform: scale(0.92);
}


.note {
  font-size: 12px;
  color: #777;
  margin-top: 8px;
}

/* Career Analysis Section */
.career-analysis-box {
  
  background: #f1f6ff;
  border: 1px solid #c7dafd;
  border-radius: 10px;
  padding: 20px;
  margin-bottom: 40px;
  font-size: 13px;
  color: #333;
  line-height: 1.6;
}

.career-analysis-box strong {
  color: #0040a8;
}

.feedback-list {
  margin-top: 10px;
  list-style: none;
  padding-left: 0;
}

.feedback-list li {
  background: #fff;
  border: 1px solid #dbe7ff;
  border-radius: 8px;
  padding: 10px 12px;
  margin-bottom: 8px;
  font-size: 13px;
}

.feedback-list b {
  color: #0069ff;
}

/* Hint */
.hint-box {
  background: #e9f8f2;
  border: 1px solid #a2f1d6;
  border-radius: 10px;
  padding: 10px 16px;
  font-size: 13px;
  margin-top: 28px;
  text-align: center;
}
</style>
